# c-string-reader

`c-string-reader` reads the variable length strings from stdin (or a specified input text file) and stores them in an array of pointers to strings. The characters are read one by one until a newline is found (newline will be stripped from the string). After collecting all of them, the strings are printed to stdout. The maximum number of strings is 10 and the maximum length of each string is 5. Empty strings are accepted.
The program exits if any of the following conditions is true:
- the maximum number of strings is reached,
- "exit" string is provided,
- invalid input is provided.

Usage: `c-string-reader [-h] [-t input_file]`
- h: print this help message
- t: test mode
  - if not specified input is read from stdin
  - if specified input is read from an input text file (containing newline separated strings)

## Installation from source

### Prerequisites

The following tools are necessary for building:

- `cmake` (3.24)
- `clang` (15.0.6)

### How to build

Invoke the following commands:

```bash
$ cmake .
$ cmake --build .
```

which will build the `c-string-reader` executable. You can find it in the _artifacts_ folder.

## Quickstart

Invoke the following command (reading from stdin):

```bash
$ ./artifacts/c-string-reader
```

Invoke the following command (reading from text file):

```bash
$ ./artifacts/c-string-reader -t test/input.txt
```

## For developers

The following tools are necessary to format, check and test your code before `git push`:

- `clang-format` (15.0.6)
- `clang-tidy` (15.0.6)
- `valgrind` (3.20.0)

### How to format, check and test your code

Invoke the following commands to format your code and run static code analysis:

```bash
$ clang-format myfile.c
$ clang-tidy myfile.c
```
or you can recursively format and check all _.c_, _.h_ files in your folder:

```bash
$ find ./myfolder/ -name "*.h" -o -name "*.c" | xargs clang-format
$ find ./myfolder/ -name "*.h" -o -name "*.c" | xargs clang-tidy
```

Note: `clang-format` uses the _.clang-format_ and `clang-tidy` uses the _.clang-tidy_ config file.
_.clang-format_ has been generated by CLion 2022.2.4 based on personal preferences, _.clang-tidy_ has been generated with the following command:
```bash
$ clang-tidy --warnings-as-errors=* -checks=-*,cert-*,clang-analyzer-*,llvm-*,misc-*,modernize-*,performance-*,portability-*,readability-* --dump-config > .clang-tidy
```

and is being constantly tailored during the development.

Invoke the following command to run dynamic analysis:

```bash
$ chmod +x ./test/valgrind/valgrind.sh
$ ./test/valgrind/valgrind.sh
```

which will generate the following files in the _artifacts_ folder:

- _valgrind.log_
- _c-string-reader.log_

and also print analysis information to stdout.
